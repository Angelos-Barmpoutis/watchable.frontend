<ng-container *ngIf="!isLoading; else skeletonTemplate">
    <div appFadeIn class="featured-banner" [style.background-image]="featuredBackdropUrl">
        <div class="overlay">
            <div class="wrapper">
                <div class="featured-details">
                    <h2 class="featured-title">{{ featuredTitle }}</h2>
                    <div class="featured-meta">
                        <span *ngIf="featuredDate" class="movie-year">
                            {{ featuredDate | date: "yyyy" }}
                        </span>
                        <span *ngIf="genresList.length" class="genres">
                            {{ genresList }}
                        </span>
                    </div>
                    <div *ngIf="featuredItem.vote_average !== 0" class="rating-container">
                        <div class="rating">
                            <div class="rating-badge">
                                <span
                                    class="rating-value"
                                    [class.rating-low]="featuredItem.vote_average < 5"
                                    [class.rating-medium]="
                                        featuredItem.vote_average >= 5 && featuredItem.vote_average < 7
                                    "
                                    [class.rating-high]="
                                        featuredItem.vote_average >= 7 && featuredItem.vote_average < 8.5
                                    "
                                    [class.rating-top]="featuredItem.vote_average >= 8.5"
                                >
                                    {{ featuredItem.vote_average | number: "1.1-1" }}
                                </span>
                                <span class="rating-total">/10</span>
                            </div>
                            <div class="rating-details">
                                <span class="vote-count">{{ featuredItem.vote_count }} votes</span>
                            </div>
                        </div>
                    </div>

                    <div class="overview">
                        <p>{{ featuredItem.overview }}</p>
                    </div>

                    <div class="featured-actions">
                        <a class="button button-primary" [routerLink]="[mediaRoute, featuredItem.id]">
                            <i class="fas fa-play"></i> Watch Trailer
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-container>

<ng-template #skeletonTemplate>
    <div appFadeIn class="featured-banner-skeleton">
        <div class="overlay">
            <div class="wrapper">
                <div class="featured-details">
                    <div class="skeleton-badge"></div>
                    <div class="skeleton-title"></div>
                    <div class="skeleton-meta">
                        <div class="skeleton-meta-item"></div>
                        <div class="skeleton-meta-item"></div>
                        <div class="skeleton-meta-item"></div>
                    </div>
                    <div class="skeleton-rating-container">
                        <div class="skeleton-rating"></div>
                        <div class="skeleton-rating-details"></div>
                    </div>
                    <div class="skeleton-overview">
                        <div class="skeleton-line"></div>
                        <div class="skeleton-line"></div>
                        <div class="skeleton-line"></div>
                    </div>
                    <div class="skeleton-actions">
                        <div class="skeleton-button-primary"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</ng-template>
