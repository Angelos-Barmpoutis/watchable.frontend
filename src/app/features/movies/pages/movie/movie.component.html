<app-media-hero [mediaDetails]="movieDetails" [mediaType]="MEDIA_TYPE.Movie" [isLoading]="isLoading"></app-media-hero>

<div class="wrapper">
    <div class="media-details-grid">
        <div>
            <div *ngIf="movieDetails?.credits?.cast?.length">
                <section>
                    <header>
                        <app-section-header title="Top Cast"></app-section-header>
                    </header>
                    <div class="cast-grid">
                        <app-cast-person
                            *ngFor="let person of movieDetails?.credits?.cast"
                            [person]="person"
                            [isLoading]="isLoading"
                        ></app-cast-person>
                    </div>
                </section>

                <section *ngIf="movieDetails?.images?.backdrops?.length">
                    <header>
                        <app-section-header title="Photos"></app-section-header>
                    </header>
                    <app-images-viewer
                        [images]="movieDetails?.images?.backdrops ?? []"
                        [isLoading]="isLoading"
                    ></app-images-viewer>
                </section>

                <section *ngIf="movieDetails?.videos?.results?.length">
                    <header>
                        <app-section-header title="Videos"></app-section-header>
                    </header>
                    <app-videos-viewer
                        [videos]="movieDetails?.videos?.results ?? []"
                        [isLoading]="isLoading"
                    ></app-videos-viewer>
                </section>

                <section *ngIf="movieDetails?.reviews?.results?.length">
                    <header>
                        <app-section-header title="Reviews"></app-section-header>
                    </header>
                    <app-reviews [reviews]="movieDetails?.reviews?.results ?? []" [isLoading]="isLoading"></app-reviews>
                </section>
            </div>
        </div>

        <aside *ngIf="movieDetails">
            <section>
                <header>
                    <app-section-header title="Movie Info"></app-section-header>
                </header>
                <app-media-details
                    [mediaDetails]="movieDetails"
                    [mediaType]="MEDIA_TYPE.Movie"
                    [isLoading]="isLoading"
                ></app-media-details>
            </section>
        </aside>
    </div>

    <section *ngIf="movieDetails?.similar?.results?.length">
        <header>
            <app-section-header title="Similar Movies"></app-section-header>
        </header>
        <app-carousel-media
            [mediaType]="MEDIA_TYPE.Movie"
            [items]="movieDetails?.similar?.results ?? []"
            [isLoading]="isLoading"
        >
        </app-carousel-media>
    </section>
</div>
